(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"+ego":function(e,t,a){"use strict";a.r(t);var n=a("k1fw"),o=a("tJVT"),l=a("q1tI"),r=a.n(l),c=a("+lI5"),s=c["a"],i=a("H1WH"),u=a("hS4W"),d=a.n(u),m=a("6crI"),f=a("LvDl"),v=a("wnGr"),p=a("tSvB"),b=a("kwfb"),g=a("TSYQ"),h=a.n(g),w=a("vUet"),y=a("nKUr");const E={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},N=l["forwardRef"]((({bsPrefix:e,position:t,className:a,as:n="div",...o},l)=>(e=Object(w["a"])(e,"toast-container"),Object(y["jsx"])(n,{ref:l,...o,className:h()(e,t&&`position-absolute ${E[t]}`,a)}))));N.displayName="ToastContainer";var O=N,S=a("Vhrh"),j=a("dRu9"),k=a("7xGa");const x={[j["b"]]:"showing",[j["d"]]:"showing show"},A=l["forwardRef"](((e,t)=>Object(y["jsx"])(k["a"],{...e,ref:t,transitionClasses:x})));A.displayName="ToastFade";var I=A,C=a("ZCiN"),_=a("XQC9");const q=l["createContext"]({onClose(){}});var B=q;const T={closeLabel:"Close",closeButton:!0},U=l["forwardRef"]((({bsPrefix:e,closeLabel:t,closeVariant:a,closeButton:n,className:o,children:r,...c},s)=>{e=Object(w["a"])(e,"toast-header");const i=Object(l["useContext"])(B),u=Object(C["a"])((e=>{null==i||null==i.onClose||i.onClose(e)}));return Object(y["jsxs"])("div",{ref:s,...c,className:h()(e,o),children:[r,n&&Object(y["jsx"])(_["a"],{"aria-label":t,variant:a,onClick:u,"data-dismiss":"toast"})]})}));U.displayName="ToastHeader",U.defaultProps=T;var W=U,F=a("YdCC"),R=Object(F["a"])("toast-body");const D=l["forwardRef"]((({bsPrefix:e,className:t,transition:a=I,show:n=!0,animation:o=!0,delay:r=5e3,autohide:c=!1,onClose:s,bg:i,...u},d)=>{e=Object(w["a"])(e,"toast");const m=Object(l["useRef"])(r),f=Object(l["useRef"])(s);Object(l["useEffect"])((()=>{m.current=r,f.current=s}),[r,s]);const v=Object(S["a"])(),p=!(!c||!n),b=Object(l["useCallback"])((()=>{p&&(null==f.current||f.current())}),[p]);Object(l["useEffect"])((()=>{v.set(b,m.current)}),[v,b]);const g=Object(l["useMemo"])((()=>({onClose:s})),[s]),E=!(!a||!o),N=Object(y["jsx"])("div",{...u,ref:d,className:h()(e,t,i&&`bg-${i}`,!E&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return Object(y["jsx"])(B.Provider,{value:g,children:E&&a?Object(y["jsx"])(a,{in:n,unmountOnExit:!0,children:N}):N})}));D.displayName="Toast";var M=Object.assign(D,{Body:R,Header:W}),K=function(e){var t=e.notice,a=e.onClose;return r.a.createElement(O,{position:"top-center"},r.a.createElement(M,{className:"align-items-center bg-warning border-0",delay:5e3,show:Boolean(t),autohide:!0,onClose:function(){a()}},r.a.createElement("div",{className:"d-flex"},r.a.createElement(M.Body,{dangerouslySetInnerHTML:{__html:t}}),r.a.createElement("button",{className:"btn-close me-2 m-auto",onClick:a,"data-bs-dismiss":"toast","aria-label":"Close"}))))},Z=K,L=a("ruvs"),Y=a("9og8"),H=a("WmNS"),z=a.n(H),J=a("6ctO"),P=a("7vrA"),V=a("+YzT"),Q=a("jDKy"),G=a("cWnB"),X=a("97+O"),$=a("8+cs"),ee=a("RT37"),te=r.a.forwardRef((function(e,t){var a,n,o,l=e.sessionUser,c=e.children,s=e.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"nav-link p-0",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",href:null===(a=l.user)||void 0===a?void 0:a.url,ref:t,onClick:function(e){e.preventDefault(),s(e)}},r.a.createElement(ee["a"],{className:"d-lg-inline-block",width:32,height:32,src:null===(n=l.user)||void 0===n?void 0:n.avatar_url,headdress:null===l||void 0===l||null===(o=l.user)||void 0===o?void 0:o.headdress_worn,alt:"\u5934\u50cf"}),r.a.createElement("span",{className:"d-lg-none"},c)))}));te.displayName="Profile_Toggle";var ae,ne=Object(v["c"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}),null,null,{forwardRef:!0})(te),oe=a("6Yt9"),le=a("qQ7c"),re=a.n(le),ce=function(e){var t=e.sessionUser,n=e.dispatch,c=e.children,s=Object(v["j"])(),i=s.query.q,u=void 0===i?"":i,d=Object(l["useState"])(u),m=Object(o["a"])(d,2),f=m[0],p=m[1];Object(l["useEffect"])((function(){p(u)}),[u]);var b=function(){var e=Object(Y["a"])(z.a.mark((function e(){var t;return z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(oe["a"])();case 2:t=$["g"].find((function(e){return window.location.pathname.includes(e.pathname)})),t?window.location.href=t.redirect:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){localStorage.setItem("referer",decodeURI(window.location.href)),n({type:"global/saveShowLoginState",payload:{isShowLogin:!0}})};Object(l["useEffect"])((function(){clearTimeout(ae),f||!u?f!==u&&(ae=setTimeout((function(){window.location.search?v["f"].replace("/user/note?q=".concat(f)):v["f"].push("/user/note?q=".concat(f))}),500)):"/user/note"===window.location.pathname&&v["f"].push("/user/note")}),[f]);var h=function(e){p(e.target.value)};return r.a.createElement(J["a"],{id:"sf-header",expand:"lg",className:"bg-white shadow-sm sticky-top"},r.a.createElement(P["a"],{className:"position-relative"},r.a.createElement("div",{className:"left-wrap d-flex justify-content-center"},r.a.createElement(J["a"].Brand,{className:re.a["sf-header"],href:"/user/note"},r.a.createElement("img",{src:a("XHHP"),width:"139",height:"26",className:"d-inline-block",alt:"segmentfault"})),c),r.a.createElement(J["a"].Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(J["a"].Collapse,{id:"basic-navbar-nav",className:"justify-content-between"},r.a.createElement(V["a"],{className:"fw-bold"}),r.a.createElement("div",{className:"d-none d-xl-block px-3 ".concat(re.a["header-search"])},r.a.createElement(Q["a"],{type:"text",placeholder:"\u641c\u7d22\u7b14\u8bb0","aria-label":"\u641c\u7d22",className:"me-sm-2 w-100",value:f,onChange:h})),t?r.a.createElement("ul",{className:"navbar-nav navbar-user align-items-lg-center"},r.a.createElement(G["a"],{as:"a",href:"/record",className:"me-3"},"\u8bb0\u7b14\u8bb0"),r.a.createElement(X["a"],{className:"position-relative ms-2"},r.a.createElement(X["a"].Toggle,{as:ne,id:"dropdown-custom-components"},"\u6211\u7684"),r.a.createElement(X["a"].Menu,{align:"end",id:"userDropDown"},r.a.createElement(X["a"].Item,{as:"a",href:"/notes/bookmarks"},"\u6536\u85cf\u7684\u7b14\u8bb0"),r.a.createElement(X["a"].Divider,null),r.a.createElement(X["a"].Item,{as:"a",href:"/"},"\u8fd4\u56de\u793e\u533a"),r.a.createElement(X["a"].Item,{onClick:b},"\u9000\u51fa\u767b\u5f55")))):r.a.createElement(J["a"],{className:"p-0"},r.a.createElement(V["a"].Item,{className:"d-none d-lg-flex me-2 me-md-0"},r.a.createElement("a",{href:"/user/login",className:"btn btn-primary",onClick:function(e){e.preventDefault(),g()}},"\u6ce8\u518c\u767b\u5f55"))))))},se=Object(v["c"])((function(e){var t=e.global;return{sessionUser:t.sessionUser,letterNum:t.letterNum,noticeNum:t.noticeNum,userStat:t.userStat,isBaiduOxApp:t.isBaiduOxApp}}))(ce),ie=a("9vsu"),ue=a("dDCJ"),de=(a("bBI7"),function(){var e={products:[{name:"\u70ed\u95e8\u95ee\u7b54",url:"/questions/hottest?utm_source=sf-footer"},{name:"\u70ed\u95e8\u4e13\u680f",url:"/blogs/hottest?utm_source=sf-footer"},{name:"\u70ed\u95e8\u8bfe\u7a0b",url:"/lives?utm_source=sf-footer"},{name:"\u6700\u65b0\u6d3b\u52a8",url:"/events?utm_source=sf-footer"},{name:"\u7ffb\u8bd1",url:"/site/stackoverflow?utm_source=sf-footer"},{name:"\u9177\u5de5\u4f5c",url:"/jobs?utm_source=sf-footer"}],live_series:[{name:"Java \u5f00\u53d1\u8bfe\u7a0b",url:"/lives/edu?tag=java&sort=hottest&utm_source=sf-footer"},{name:"PHP \u5f00\u53d1\u8bfe\u7a0b",url:"/lives/edu?tag=php&sort=hottest&utm_source=sf-footer"},{name:"Python \u5f00\u53d1\u8bfe\u7a0b",url:"/lives/edu?tag=python&sort=hottest&utm_source=sf-footer"},{name:"\u524d\u7aef\u5f00\u53d1\u8bfe\u7a0b",url:"/lives/edu?category=1&sort=hottest&utm_source=sf-footer"},{name:"\u79fb\u52a8\u5f00\u53d1\u8bfe\u7a0b",url:"/lives/study?category=3&sort=hottest&utm_source=sf-footer"}],resources:[{name:"\u6bcf\u5468\u7cbe\u9009",url:"/weekly?utm_source=sf-footer"},{name:"\u7528\u6237\u6392\u884c\u699c",url:"/users?utm_source=sf-footer"},{name:"\u5e2e\u52a9\u4e2d\u5fc3",url:"/help?utm_source=sf-footer"},{name:"\u5efa\u8bae\u53cd\u9988",url:"/0x?utm_source=sf-footer"}],businesses:[{name:"\u5173\u4e8e\u6211\u4eec",url:"https://about.segmentfault.com/?utm_source=sf-footer"},{name:"\u5e7f\u544a\u6295\u653e",url:"https://business.segmentfault.com/ads?utm_source=sf-footer"},{name:"\u804c\u4f4d\u53d1\u5e03",url:"/jobs?utm_source=sf-footer"},{name:"\u8bb2\u5e08\u62db\u52df",url:"https://jinshuju.net/f/HK5r9K?utm_source=sf-footer"},{name:"\u8054\u7cfb\u6211\u4eec",url:"mailto:pr@segmentfault.com?utm_source=sf-footer"},{name:"\u5408\u4f5c\u4f19\u4f34",url:"/link?utm_source=sf-footer"}],blogs:[{name:"\u4ea7\u54c1\u6280\u672f\u65e5\u5fd7",url:"/blog/segmentfault?utm_source=sf-footer"},{name:"\u793e\u533a\u8fd0\u8425\u65e5\u5fd7",url:"/blog/community_governance?utm_source=sf-footer"},{name:"\u5e02\u573a\u8fd0\u8425\u65e5\u5fd7",url:"/blog/segmentfault_news?utm_source=sf-footer"},{name:"\u56e2\u961f\u65e5\u5fd7",url:"/blog/segmentfault_team?utm_source=sf-footer"},{name:"\u793e\u533a\u8bbf\u8c08",url:"/blog/interview?utm_source=sf-footer"}],links:[{name:"\u670d\u52a1\u534f\u8bae",url:"/tos?utm_source=sf-footer"},{name:"\u9690\u79c1\u653f\u7b56",url:"/privacy?utm_source=sf-footer"}]},t=r.a.createElement(ie["a"],{id:"popover-basic"},r.a.createElement(ie["a"].Body,null,r.a.createElement("div",{className:"weixin-qrcode"}),r.a.createElement("p",{className:"text-center mb-0"},"\u5173\u6ce8\u5fae\u4fe1\u53f7")));return r.a.createElement("footer",{id:"footer",className:"d-none d-sm-block bg-white py-5 font-size-14 border-top"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("dl",{className:"col-4 col-md-2"},r.a.createElement("dt",{className:"h6"},"\u4ea7\u54c1"),e.products.map((function(e,t){return r.a.createElement("dd",{className:"my-1",key:t},r.a.createElement("a",{className:"text-secondary",href:e.url,target:"_blank"},e.name))}))),r.a.createElement("dl",{className:"col-4 col-md-2"},r.a.createElement("dt",{className:"h6"},"\u8bfe\u7a0b"),e.live_series.map((function(e,t){return r.a.createElement("dd",{className:"my-1",key:t},r.a.createElement("a",{className:"text-secondary",href:e.url,target:"_blank"},e.name))}))),r.a.createElement("dl",{className:"col-4 col-md-2 "},r.a.createElement("dt",{className:"h6"},"\u8d44\u6e90"),e.resources.map((function(e,t){return r.a.createElement("dd",{className:"my-1",key:t},r.a.createElement("a",{className:"text-secondary",href:e.url,target:"_blank"},e.name))}))),r.a.createElement("dl",{className:"col-4 col-md-2"},r.a.createElement("dt",{className:"h6"},"\u5408\u4f5c"),e.businesses.map((function(e,t){return r.a.createElement("dd",{className:"my-1",key:t},r.a.createElement("a",{className:"text-secondary",href:e.url,target:"_blank"},e.name))}))),r.a.createElement("dl",{className:"col-4 col-md-2"},r.a.createElement("dt",{className:"h6"},"\u5173\u6ce8"),e.blogs.map((function(e,t){return r.a.createElement("dd",{className:"my-1",key:t},r.a.createElement("a",{className:"text-secondary",href:e.url,target:"_blank"},e.name))}))),r.a.createElement("dl",{className:"col-4 col-md-2",id:"license"},r.a.createElement("dt",{className:"h6"},"\u6761\u6b3e"),e.links.map((function(e,t){return r.a.createElement("dd",{className:"my-1",key:t},r.a.createElement("a",{className:"text-secondary",href:e.url,target:"_blank"},e.name))})),r.a.createElement("dd",{className:"my-1"},r.a.createElement("a",{className:"text-secondary",href:"/app?utm_source=sf-footer"},"\u4e0b\u8f7d App")),r.a.createElement("dd",{className:"my-1"},r.a.createElement("div",{className:"weixin-qrcode ms-n1",title:"\u5fae\u4fe1\u516c\u4f17\u53f7"})))),r.a.createElement("hr",{className:"mt-2 mb-4"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"text-secondary"},r.a.createElement("p",{className:"mb-1"},"Copyright \xa9 2011-",(new Date).getFullYear()," SegmentFault. \u5f53\u524d\u5448\u73b0\u7248\u672c ","23.01.10"),r.a.createElement("p",{className:"mb-1"},r.a.createElement("a",{className:"text-secondary me-2",target:"_blank",href:"http://beian.miit.gov.cn",rel:"nofollow noreferrer"},"\u6d59ICP\u590715005796\u53f7-2"),r.a.createElement("a",{className:"text-secondary me-2",target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602002000",rel:"nofollow noreferrer"},"\u6d59\u516c\u7f51\u5b89\u590733010602002000\u53f7"),r.a.createElement("span",{className:"text-secondary"},"ICP \u7ecf\u8425\u8bb8\u53ef \u6d59B2-20201554")),r.a.createElement("p",{className:"mb-0"},"\u676d\u5dde\u5806\u6808\u79d1\u6280\u6709\u9650\u516c\u53f8\u7248\u6743\u6240\u6709"))),r.a.createElement("div",{className:"col-md-4 text-end"},r.a.createElement("div",{className:"shareContent"},r.a.createElement(ue["a"],{trigger:"click",placement:"top",overlay:t},r.a.createElement("a",{className:"share_weixin","data-share":"weixin",href:"#javascript","aria-label":"\u5fae\u4fe1"},r.a.createElement("i",{className:"fab fa-weixin"}))),r.a.createElement("a",{className:"share_weibo","data-share":"weibo",href:"http://weibo.com/segmentfault",target:"_blank","aria-label":"\u5fae\u535a"},r.a.createElement("i",{className:"fab fa-weibo"})),r.a.createElement("a",{className:"share_github","data-share":"github",href:"https://github.com/SegmentFault",target:"_blank","aria-label":"github"},r.a.createElement("i",{className:"fab fa-github"})),r.a.createElement("a",{className:"share_twitter me-0","data-share":"twitter",href:"https://twitter.com/segment_fault",target:"_blank","aria-label":"twitter"},r.a.createElement("i",{className:"fab fa-twitter"})))))))}),me=de,fe=a("Dp36"),ve=a("0lfv"),pe=a("KZ+x"),be=a("2CDT"),ge=function(e){var t=window.location.pathname;if(t.includes("/a/"))e({type:"articleDetail/getArtDetail",payload:{aid:null===t||void 0===t?void 0:t.replace("/a/",""),isRefresh:!0}});else if(t.includes("/q/"))e({type:"question/queryQuestionDetail",payload:{qid:null===t||void 0===t?void 0:t.replace("/q/","")}});else if("/"!==t)if(t.includes("/u/")){var a,n=null===(a=t.split("/"))||void 0===a?void 0:a[2];e({type:"personal/queryDataByName",payload:{slug:n,name:"info"}})}else(t.includes("/product/")||t.includes("/dianping/")||t.includes("/revision"))&&window.location.reload();else e({type:"portal/queryPageData"})},he=a("oBTY");function we(e,t){if(e){var a=new Notification(e,t);a.onclick=function(){window.open(null!==t&&void 0!==t&&t.data?t.data:"https://segmentfault.com")}}}var ye,Ee=function(e,t){var o=window.Notification;if(o){var l=Object(n["a"])({icon:a("O6Wi")},t);"granted"===o.permission?we(e,l):"denied"===o.permission||o.requestPermission((function(t){"granted"===t&&we(e,l)}))}},Ne=Ee,Oe="ws.segmentfault.com:8443",Se=function(e){var t=e.sessionUser,n=Object(v["h"])();Object(l["useEffect"])((function(){var e;Object(f["isEmpty"])(t)||(null!==(e=window)&&void 0!==e&&e.Notification&&Notification.requestPermission(),a.e(158).then(a.t.bind(null,"yd8o",7)).then((function(e){r(e["default"])})),window.addEventListener("visibilitychange",(function(){var e,t,a,n,l=o();"hidden"===l?"granted"!==Notification.permission&&(null===(e=ye)||void 0===e||null===(t=e.close)||void 0===t||t.call(e)):null===(a=ye)||void 0===a||null===(n=a.connect)||void 0===n||n.call(a)})))}),[t]);var o=function(){if("undefined"!==typeof document)return document.visibilityState},r=function(e){ye=e(Oe,{autoConnect:!1,reconnection:!0,reconnectionDelayMax:5e3,reconnectionAttempts:3,transports:["websocket"]});var t=Object(oe["d"])();ye.on("connect",(function(){ye.emit("login",t)})),ye.on("event",(function(e){var t=e.message||0,a=e.badge||0;if("number"===typeof e.event){var o=e.event||0;return n({type:"global/saveNoticeNum",payload:{letterNum:t,noticeNum:o}}),void((t>0||o>0)&&(o>0&&c(),t>0&&s()))}var l=e.event||{},r=l.comment,i=void 0===r?0:r,u=l.followed,d=void 0===u?0:u,m=l.general,f=void 0===m?0:m,v=l.inbox,p=void 0===v?0:v,b=l.ranked,g=void 0===b?0:b,h=i+d+f+p+g+a;n({type:"global/saveNoticeNum",payload:{letterNum:t,noticeNum:h}}),n({type:"global/saveMessageNotice",payload:{message:e.message,event:e.event,badge:e.badge}}),(t>0||h>0)&&(h>0&&c(),t>0&&s())})),ye.on("badge",(function(e){e&&i(e)})),ye.open()},c=function(){Object(fe["Dc"])("","").then((function(e){if(e){var t,a,n,o,l,r,c,s,i,u=/<\/?(a|span|p|div).*?>/g;if(null!==(t=e.general.data)&&void 0!==t&&t.length)e.general=(null===(c=e.general.data.filter((function(e){return e.viewed<1})))||void 0===c?void 0:c.map((function(e){return{sentence:"".concat(e.sentence.replace(u,"")," ").concat(e.excerpt),url:e.url}})))||[];else e.general=[];if(null!==(a=e.ranked.data)&&void 0!==a&&a.length)e.ranked=(null===(s=e.ranked.data.filter((function(e){return e.viewed<1})))||void 0===s?void 0:s.map((function(e){var t,a,n;return{sentence:"".concat((null===(t=e.voted)||void 0===t?void 0:t.rank)>0?"+":"").concat(0!==(null===(a=e.voted)||void 0===a?void 0:a.rank)?null===(n=e.voted)||void 0===n?void 0:n.rank:""," ").concat(e.sentence.replace(u,"")," ").concat(e.excerpt),url:e.url}})))||[];else e.ranked=[];if((null===(n=e.followed.data)||void 0===n?void 0:n.length)>0)e.followed=(null===(i=e.followed.data.filter((function(e){return e.viewed<1})))||void 0===i?void 0:i.map((function(e){return{sentence:"".concat(e.trigger_user[0].name," \u5173\u6ce8\u4e86\u4f60"),url:e.trigger_user[0].url}})))||[];else e.followed=[];var d=JSON.parse(localStorage.getItem("SF_WEBNOTICE")||"[]"),m=Object(he["a"])(d),f=[];f=null!==(o=e.general)&&void 0!==o&&o.length&&null!==(l=e.ranked)&&void 0!==l&&l.length&&null!==(r=e.followed)&&void 0!==r&&r.length||d.length?[e.general[0],e.ranked[0],e.followed[0]]:[].concat(Object(he["a"])(e.general),Object(he["a"])(e.ranked),Object(he["a"])(e.followed)).slice(0,3),f=f.filter((function(e){return void 0!==e||null!==e}));var v=0;f.forEach((function(e){null!==e&&void 0!==e&&e.sentence&&!d.find((function(t){return t.sentence===(null===e||void 0===e?void 0:e.sentence)}))&&(v<=2?v+=1:v=0,m=[e].concat(Object(he["a"])(m)),Ne("\u4f60\u6709 1 \u6761\u65b0\u6d88\u606f",{tag:String(v),body:e.sentence,data:e.url}))})),localStorage.setItem("SF_WEBNOTICE",JSON.stringify(m.slice(0,3)))}}))},s=function(){Object(fe["ge"])(1,!1).then((function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.rows)&&void 0!==t&&t.length){var a,n;e.rows=(null===(a=e.rows.filter((function(e){return e.viewed<1})))||void 0===a?void 0:a.map((function(e){var t;return{url:e.url,sentence:"".concat((null===e||void 0===e||null===(t=e.target_user)||void 0===t?void 0:t.name)||""," \u53d1\u4e86\u79c1\u4fe1\uff1a").concat(e.last_message.content.content)}})))||[];var o=null===(n=e.rows)||void 0===n?void 0:n[0];if(null!==o&&void 0!==o&&o.url){var l=JSON.parse(localStorage.getItem("SF_WEBNOTICE")||"[]"),r=Object(he["a"])(l);if(l.find((function(e){return e.sentence===(null===o||void 0===o?void 0:o.sentence)})))return;r=[o].concat(Object(he["a"])(r)),Ne("\u4f60\u6709 1 \u6761\u79c1\u4fe1",{tag:"1",body:o.sentence,data:o.url}),localStorage.setItem("SF_WEBNOTICE",JSON.stringify(r.slice(0,3)))}}}))},i=function(e){Object(fe["Eb"])({id:e,userId:null===t||void 0===t?void 0:t.user.id}).then((function(e){e&&n({type:"global/saveBadgeModalState",payload:e.badge})}))};return null},je=Object(v["c"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(Se),ke=a("9F+u"),xe=a("ltL4"),Ae=function(e){var t,a,n=e.children,c=e.history,u=e.title,g=e.titleAlias,h=e.isShowLogin,w=e.beginnerGuideState,y=e.isShowBindMobile,E=e.unactivated,N=e.isShowRegister,O=e.keywords,S=e.description,j=e.notices,k=e.singleNotice,x=e.currentRoute,A=e.sessionUser,I=e.noticeNum,C=e.newTask,_=e.userStat,q=e.globalCss,B=void 0===q?"":q,T=e.wxShareCover,U=e.showProductAuthModal,W=void 0===U?{isShow:!1,title:""}:U,F=e.safeCheckModal,R=void 0===F?{isShow:!1,pageSource:""}:F,D=e.followSFState,M=e.badgeModalState,K=Object(v["h"])(),Y=Object(l["useState"])(""),H=Object(o["a"])(Y,2),z=H[0],J=H[1],P=Object(l["useState"])(""),V=Object(o["a"])(P,2),Q=V[0],G=V[1];Object(l["useEffect"])((function(){z&&Object(xe["b"])()&&Object(pe["a"])("https://res.wx.qq.com/open/js/jweixin-1.6.0.js").then((function(){var e={title:g||u,link:"".concat(window.location.href),imgUrl:T||"".concat(z,"touch-icon.png"),desc:S};Object(fe["Se"])().then((function(t){if(t instanceof Object){var a=t.jsApiList.slice();window.wx&&(window.wx.config(t),window.wx.error(console.error),window.wx.ready((function(){a.forEach((function(t){window.wx[t](e)}))})))}}))}))}),[z,u]),Object(l["useEffect"])((function(){var e,t=c.listen((function(){"PUSH"===c.action&&window.scrollTo(0,0),$(c.location.pathname),Object(oe["d"])()&&Object(fe["oe"])({url:window.location.href})}));J(window.publicPath||""),Object(be["a"])("",(null===A||void 0===A||null===(e=A.user)||void 0===e?void 0:e.rank)||0);var a=X(c.location.pathname);if(a&&Object(ke["a"])("global"),Object(ve["j"])()){K({type:"global/savBaiduOxApp",payload:!0});var n=document.querySelectorAll("a");Array.prototype.forEach.call(n,(function(e){e.addEventListener("click",(function(t){var a,n,o=e.getAttribute("href")||"";null!==o&&void 0!==o&&o.includes("http")&&(null===o||void 0===o||null===(a=o.match(/http(s)?:\/\/[^/]+\/?/))||void 0===a||null===(n=a[0])||void 0===n?void 0:n.indexOf("segmentfault.com"))<0&&t.preventDefault()}))}))}var o=document.querySelector('meta[name="viewport"]');if(o){var l=o.getAttribute("content");o.setAttribute("content","".concat(l,", viewport-fit=cover"))}return function(){t()}}),[]),Object(l["useEffect"])((function(){Object(f["isEmpty"])(A)||(Object(f["isEmpty"])(C)&&K({type:"global/queryNewTask"}),Object(f["isEmpty"])(_)&&K({type:"global/getUserStat"}))}),[A]);var X=function(e){return!e.match(/^(\/a\/.*)|(\/q\/.*)/)};Object(m["a"])((function(){if(v["g"]instanceof Function&&Object(v["g"])()&&x.action){var e="/";switch(x.action){case"redirect":d.a.set("referer",window.location.href),e=x.param;break;case"404":e="/404";break;default:break}c.replace(e)}}),[x]);var $=function(e){var t=j.filter((function(t){return t.pageName===e}))[0];t&&(G(t.msg),K({type:"global/popNotice",payload:{id:t.id}}),window.scrollTo(0,0))};Object(l["useEffect"])((function(){k&&G("")}),[k]),Object(l["useEffect"])((function(){null!==A&&void 0!==A&&A.user&&null!==A&&void 0!==A&&A.isRefresh&&ge(K)}),[null===A||void 0===A?void 0:A.user]);var ee=function(e){K({type:"global/saveShowLoginState",payload:{isShowLogin:e}})},te=function(e){K({type:"global/saveShowBeginnerGuideState",payload:{beginnerGuideState:{visible:e,type:0}}})},ae=function(e){K({type:"global/saveBindMobileState",payload:{isShowBindMobile:e}})},ne=function(e){K({type:"global/saveRegisterState",payload:{isShowRegister:e}})};if(x.customLayout)return n;I>0&&!i["isMobile"]&&(u=I>=100?"(\u2026\u2026) ".concat(u):"(".concat(I,") ").concat(u));var le=r.a.createElement(L["a"],null),re=!0;return"note"===x.headerType&&(le=r.a.createElement(se,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("h5",{className:"mb-0"},"\u7b14\u8bb0"))),re=!1),"sf_app"===x.platform&&(le=null,re=!1),r.a.createElement(s,null,r.a.createElement(v["a"],{encodeSpecialCharacters:!1},r.a.createElement("html",{lang:"zh-CN"}),r.a.createElement("title",null,u),r.a.createElement("meta",{name:"keywords",content:O}),r.a.createElement("meta",{name:"description",content:S}),r.a.createElement("meta",{name:"userId",value:null===A||void 0===A||null===(t=A.user)||void 0===t?void 0:t.id,id:"SFUserId"}),r.a.createElement("meta",{name:"userRank",value:null===A||void 0===A||null===(a=A.user)||void 0===a?void 0:a.rank,id:"SFUserRank"}),r.a.createElement("script",{async:!0,defer:!0,"data-domain":"segmentfault.com",src:"https://stats.segmentfault.net/js/plausible.js"})),r.a.createElement("style",null,B),r.a.createElement("div",{className:"d-none d-lg-block text-center"},r.a.createElement(b["a"],{name:"5"})),r.a.createElement("div",{className:"position-fixed",style:{top:"58px",left:0,right:0,margin:"auto",zIndex:5}},r.a.createElement(Z,{notice:Q,onClose:function(){return G("")}}),r.a.createElement(Z,{notice:k,onClose:function(){ve["r"].hide()}})),r.a.createElement("div",{id:"root-top-container"}),le,n,r.a.createElement(p["o"],{isShow:h,setShowStatus:ee}),r.a.createElement(p["d"],{isShow:w.visible,type:w.type,setShowStatus:te}),r.a.createElement(p["f"],{isShow:y,setShowStatus:ae,unactivated:E}),r.a.createElement(p["t"],{isShow:N,setShowStatus:ne}),re&&r.a.createElement(me,null),r.a.createElement(je,null),r.a.createElement(p["q"],{visible:W.isShow,title:W.title,setVisible:function(e){K({type:"global/saveProductAuthModalState",payload:{isShow:e,title:""}})}}),r.a.createElement(p["v"],{isShow:R.isShow,setModalState:function(e){K({type:"global/saveSafeCheckModalState",payload:{isShow:e,pageSource:""}})},pageSource:R.pageSource}),r.a.createElement(p["k"],{isShow:D.isShow,setShowStatus:function(e){K({type:"global/saveFollowSFModalState",payload:{isShow:e}})}}),r.a.createElement(p["s"],{show:!Object(f["isEmpty"])(M),onClose:function(){K({type:"global/saveBadgeModalState",payload:{}})},medal:{levelType:M.level_type,name:M.title,description:M.description}}))};t["default"]=Object(v["c"])((function(e){var t=e.global;return Object(n["a"])(Object(n["a"])({},t),t.headOptions)}))(Ae)},"2CDT":function(e,t,a){"use strict";function n(e){var t,a,n,o,l,r,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e?window.OA_script("https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=".concat(c,"&v=5f0a9217&tag=").concat(e)):null!==(t=window.location)&&void 0!==t&&null!==(a=t.pathname)&&void 0!==a&&a.includes("/a/")||null!==(n=window.location)&&void 0!==n&&null!==(o=n.pathname)&&void 0!==o&&o.includes("/q/")||null!==(l=window.location)&&void 0!==l&&null!==(r=l.pathname)&&void 0!==r&&r.includes("/t/")||window.OA_script("https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=".concat(c,"&v=5f0a9217"))}t["a"]=n},"9F+u":function(e,t,a){"use strict";var n,o;function l(e){function t(){var t=document.querySelectorAll("body .ad-container");if(t.forEach((function(e){var t,a=e.classList;(null===a||void 0===a||!a.contains("ad-close")||(null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>0)&&(e.style.display="block")})),e){var a=document.querySelectorAll(".ad-close");a.forEach((function(t){var a,n=t.parentNode,o=(null===n||void 0===n?void 0:n.getAttribute("id"))||"",l="".concat(e,"-").concat(o),r=parseInt(localStorage.getItem(l)||"0")||0;"OA_holder_5"===o&&(r=Math.max(parseInt(localStorage.getItem("article-OA_holder_5")||"0"),parseInt(localStorage.getItem("question-OA_holder_5")||"0"),parseInt(localStorage.getItem("global-OA_holder_5")||"0"))),r<Date.now()?n.style.display="block":null===(a=n.parentNode)||void 0===a||a.removeChild(n)}))}var n=document.querySelectorAll(".ad-close");null===n||void 0===n||n.forEach((function(e){var t=e.querySelector("ad-close");if(!t){e.style.position="relative";var a=document.createElement("div"),n=document.createElement("span");a.className="sflex-center ad-close-div",a.setAttribute("style","width: 16px; height: 16px; position: absolute; right: 8px; top: 8px; background-color: rgba(0,0,0,.75); cursor: pointer; pointer-events: none; border-radius: 50%;"),n.className="ad-close-span",n.setAttribute("style","width: 8px; height: 8px; display: block; background-repeat: no-repeat; background-position: center; pointer-events: auto; background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath fill='%23FFF' fill-rule='evenodd' d='M6.6667 0L8 1.3333 5.333 4 8 6.6667 6.6667 8 4 5.333 1.3333 8 0 6.6667 2.666 4 0 1.3333 1.3333 0 4 2.667 6.6667 0z'/%3E%3C/svg%3E\");"),a.appendChild(n),e.appendChild(a)}}));var o=document.querySelectorAll(".ad-close-span");o.forEach((function(t){t.addEventListener("click",(function(){for(var a=t.parentNode,n=0;n<5;n++){var o,l,r,c;if(null!==(o=a)&&void 0!==o&&null!==(l=o.parentNode)&&void 0!==l&&null!==(r=l.getAttribute)&&void 0!==r&&null!==(c=r.call(l,"id"))&&void 0!==c&&c.includes("OA_holder")){var s;a=a.parentNode;var i=a.getAttribute("id");a.parentNode.parentNode.removeChild(null===(s=a)||void 0===s?void 0:s.parentNode),i&&localStorage.setItem("".concat(e,"-").concat(i),(Date.now()+864e5).toString())}else a=a.parentNode}}))}))}n&&clearInterval(n),n=setInterval((function(){var e;(null===(e=document.querySelectorAll(".ad-close"))||void 0===e?void 0:e.length)>0&&(clearInterval(n),t())}),300),o&&clearInterval(o),o=setInterval((function(){var e=document.querySelectorAll("div[id^='OA_holder_']");e.length>0&&(clearInterval(o),e.forEach((function(e){var t,a=0;null===(t=Array(e.children))||void 0===t||t.forEach((function(e){var t,n=(null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"id"))||"";n.includes("beacon_")&&(a+=1)})),a>0&&null!==e&&void 0!==e&&e.parentElement&&(e.parentElement.style.display="block")})))}),500)}a.d(t,"a",(function(){return l}))},O6Wi:function(e,t){e.exports="data:image/png;base64,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"},bBI7:function(e,t,a){},kwfb:function(e,t,a){"use strict";var n=a("tJVT"),o=a("q1tI"),l=a.n(o),r=function(e){var t=e.name,a=e.callback,r=Object(o["useState"])(""),c=Object(n["a"])(r,2),s=c[0],i=c[1],u=Object(o["useRef"])(null);return Object(o["useEffect"])((function(){var e,a=null;null!==(e=window.OA_output)&&void 0!==e&&e[t]&&clearInterval(a),a=setInterval((function(){var e,n;null!==(e=window.OA_output)&&void 0!==e&&e[t]&&(null!==(n=window.OA_output)&&void 0!==n&&n[t]&&clearInterval(a),i(window.OA_output[t]))}))}),[]),Object(o["useEffect"])((function(){s&&s.indexOf("adsbygoogle")>-1&&(window.adsbygoogle=window.adsbygoogle||[]).push({}),u.current&&u.current.querySelectorAll("script").forEach((function(e){var t=document.querySelectorAll("head > script[src='".concat(e.src,"']"));if((null===t||void 0===t?void 0:t.length)>0)e.remove();else{var a=document.createElement("script");e.src&&(a.src=e.src,e.remove(),document.head.appendChild(a))}})),s&&"function"===typeof a&&a("success")}),[s]),l.a.createElement("div",{ref:u,id:"OA_holder_".concat(t),className:"ad-container",style:{display:5===Number(t)?"none":"block"},dangerouslySetInnerHTML:{__html:s}})};t["a"]=r},qQ7c:function(e,t,a){e.exports={"tip-circle":"tip-circle___1wUpc","medal-circle":"medal-circle___1PogQ","sf-header-logo":"sf-header-logo___23fcu","bg-warning":"bg-warning___Yz4Qd",dropdown:"dropdown___2_4zz","hover-down":"hover-down___2v8u5","dropdown-menu":"dropdown-menu___1C7nO","sflex-center":"sflex-center___108MW","dropdown-toggle":"dropdown-toggle___1mLuD","header-search":"header-search___2cLAN","title-wrap":"title-wrap___B6jWJ"}}}]);